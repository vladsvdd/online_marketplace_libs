# Online Marketplace Libraries

Этот репозиторий предназначен для хранения нескольких библиотек, используемых в проектах Online Marketplace.

## Структура репозитория

Каждая библиотека располагается в отдельной подпапке в корне репозитория. Пример структуры:

```
/
├── loggerlib/        # Библиотека логирования
│   ├── builder.go
│   ├── ...
│   └── go.mod (если нужен отдельный модуль)
├── anotherlib/       # Пример другой библиотеки
│   └── ...
├── README.MD         # Описание репозитория
├── go.mod            # Общий go.mod (если используется)
└── ...
```

## Как добавить новую библиотеку
1. Создайте новую папку в корне репозитория с уникальным именем вашей библиотеки.
2. Разместите исходные файлы внутри этой папки.
3. (Опционально) Инициализируйте отдельный go.mod внутри папки библиотеки, если требуется отдельный модуль.

## loggerlib
Библиотека для логирования. Исходные файлы находятся в папке `loggerlib/`.

---

# Система версионирования

## Обзор

Этот репозиторий использует семантическое версионирование (SemVer) для управления версиями библиотеки.

## Как использовать

### 1. Автоматическое создание версии

Для создания новой версии используйте скрипт `version.sh`:

```bash
# Увеличить патч версию (0.4.1 -> 0.4.2)
./scripts/version.sh patch

# Увеличить минорную версию (0.4.1 -> 0.5.0)
./scripts/version.sh minor

# Увеличить мажорную версию (0.4.1 -> 1.0.0)
./scripts/version.sh major
```

### 2. Использование в API проекте

В проекте API обновите зависимость:

```bash
cd ../online_marketplace_api
go get github.com/vladsvdd/online_marketplace_libs@latest
```

## Типы версий

- **Patch** (0.4.1 -> 0.4.2): Исправления багов, не ломающие API
- **Minor** (0.4.1 -> 0.5.0): Новые функции, обратно совместимые
- **Major** (0.4.1 -> 1.0.0): Критические изменения, ломающие API

## Автоматизация

### GitHub Actions

При каждом push в master автоматически создается тег `latest`.

### Git Hooks

При push в master автоматически обновляется тег `latest` (если не пушим теги).

## Рекомендации

1. Используйте `patch` для исправлений багов
2. Используйте `minor` для новых функций
3. Используйте `major` только при критических изменениях
4. Всегда тестируйте изменения перед созданием новой версии/