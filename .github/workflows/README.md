# Автоматическое версионирование

Этот workflow автоматически создает новые версии при каждом коммите в main/master ветку.

## Как это работает

### Триггер
- Запускается при каждом `push` в ветки `main` или `master`
- Игнорирует изменения только в документации (`.md`, `README`, `.gitignore`)

### Логика
1. **Проверка изменений**: Анализирует, есть ли изменения в коде
2. **Проверка флага**: Ищет `[skip version]` в сообщении коммита
3. **Версионирование**: Если нужно, увеличивает patch версию (1.0.0 → 1.0.1)

## Использование

### Обычный коммит (создаст новую версию)
```bash
git add .
git commit -m "feat: add new logging functionality"
git push origin main
```

### Коммит без версионирования
```bash
git commit -m "docs: update readme [skip version]"
git push origin main
```

### Изменения только в документации (версия не изменится)
```bash
git commit -m "docs: update installation guide"
git push origin main
```

## Мониторинг

### Посмотреть все версии
```bash
git tag -l
```

### Посмотреть последние версии
```bash
git tag -l | tail -5
```

### Получить текущую версию
```bash
git describe --tags --abbrev=0
```

## Настройка

Workflow использует ваш существующий скрипт `scripts/version.sh` и:
- Создает аннотированные теги версий
- Обновляет тег `latest`
- Автоматически пушит теги в репозиторий

## Отладка

Если workflow не работает:
1. Проверьте права доступа (нужен `contents: write`)
2. Убедитесь, что скрипт `version.sh` имеет права на выполнение
3. Проверьте логи в GitHub Actions 